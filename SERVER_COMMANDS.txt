===============================================
ðŸš€ ÐšÐžÐœÐÐÐ”Ð« Ð”Ð›Ð¯ DIGITALOCEAN Ð¡Ð•Ð Ð’Ð•Ð Ð
===============================================

GitHub Ð³Ð¾Ñ‚Ð¾Ð²: https://github.com/mobidoo-io/adbid âœ…

Ð˜ÐÐ¡Ð¢Ð Ð£ÐšÐ¦Ð˜Ð¯:
-----------
1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ: https://cloud.digitalocean.com/droplets
2. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ droplet: 165.227.11.220
3. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ: Access â†’ Launch Droplet Console
4. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð’Ð¡Ð• ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð½Ð¸Ð¶Ðµ

=============== Ð¡ÐšÐžÐŸÐ˜Ð Ð£Ð™Ð¢Ð• Ð’Ð¡Ð ÐÐ˜Ð–Ð• ===============

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ñ… Ð¿Ð°ÐºÐµÑ‚Ð¾Ð²
apt update && apt install -y git nginx certbot python3-certbot-nginx

# Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÑÑ‚Ð°Ñ€Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð¸ ÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
cd /var/www
rm -rf adbid.backup
mv adbid adbid.backup 2>/dev/null || true
git clone https://github.com/mobidoo-io/adbid.git
cd adbid

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Nginx
cat > /etc/nginx/sites-available/adbid << 'EOF'
server {
    listen 80;
    server_name adbid.me www.adbid.me 165.227.11.220;
    root /var/www/adbid/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$ {
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
    
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript application/javascript application/json;
}
EOF

# ÐÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ ÑÐ°Ð¹Ñ‚Ð°
ln -sf /etc/nginx/sites-available/adbid /etc/nginx/sites-enabled/
rm -f /etc/nginx/sites-enabled/default

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¿Ñ€Ð°Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°
chown -R www-data:www-data /var/www/adbid
chmod -R 755 /var/www/adbid

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Nginx
nginx -t && systemctl restart nginx

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹
echo "========================================="
echo "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°..."
curl -I http://localhost | head -n 1
echo "========================================="
echo "âœ… Ð“ÐžÐ¢ÐžÐ’Ðž! Ð¡Ð°Ð¹Ñ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ:"
echo "   http://adbid.me"
echo "   http://165.227.11.220"
echo "========================================="

# SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ (Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð´Ð»Ñ HTTPS)
echo ""
echo "Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚? (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)"
echo "Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÑÑ‚Ñƒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ:"
echo ""
echo "certbot --nginx -d adbid.me -d www.adbid.me --non-interactive --agree-tos -m admin@adbid.me"
echo ""
echo "ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ ÑÐ°Ð¹Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾: https://adbid.me"

=============== ÐšÐžÐÐ•Ð¦ ÐšÐžÐœÐÐÐ” ===============

ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ ÐŸÐžÐ¡Ð›Ð• Ð’Ð«ÐŸÐžÐ›ÐÐ•ÐÐ˜Ð¯:
--------------------------
âœ… http://adbid.me - Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒÑÑ ÑÐ°Ð¹Ñ‚
âœ… http://165.227.11.220 - Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒÑÑ ÑÐ°Ð¹Ñ‚
âœ… https://adbid.me - Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÐ»Ðµ SSL

Ð•Ð¡Ð›Ð˜ Ð§Ð¢Ðž-Ð¢Ðž ÐÐ• Ð ÐÐ‘ÐžÐ¢ÐÐ•Ð¢:
------------------------
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑ nginx:
   systemctl status nginx

2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸:
   tail -f /var/log/nginx/error.log

3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ„Ð°Ð¹Ð»Ñ‹:
   ls -la /var/www/adbid/dist/

===============================================